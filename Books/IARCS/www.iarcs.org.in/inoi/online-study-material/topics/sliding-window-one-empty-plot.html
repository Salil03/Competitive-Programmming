<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>

<meta name="Description" content="">
<meta name="author" content="">
<meta name="keywords" content="">

<meta name="robots" content="all,follow">

<!-- CSS --> 
<link rel="stylesheet" href="styles\default.css" type="text/css" media="screen, projection, tv">
<link rel="stylesheet" href="styles\print.css" type="text/css" media="print">

<!-- Favicon -->
<link rel="shortcut icon" href="img\iarcslogo.png" type="image/x-icon">
</head>

<body id="top">
<div id="wrapper">

	<div class="header">
	<h1><span><a href="http://www.iarcs.org.in/inoi"><span id="color">Indian Computing Olympiad</span></a></span></h1>
	<p id="about">Training Material</p>

	<a href="#skip-menu" class="hidden">Skip menu</a> <!-- Skip menu -->
	<div id="menu-box">
	  <ul id="web">
	    <li><a href="..\contact\index.html">Contact</a></li>
	    <li><a href="..\iindex\index.html">Index</a></li>
	    <li><a href="..\problems\index.html">Problems</a></li>
	    <li><a class="active" id="first" href="index-1.html">Topics</a></li>
	    <li><a href="..\index-1.html">Home</a></li>
	  </ul>
	</div>

	</div> <!-- Header end -->

<hr class="noscreen">

<div id="skip-menu"></div>

<div class="page">
  <div class="col-r">
    <div class="col-r-in">

      <h2><a href="sliding-window.html">Sliding Window Algorithms</a></h2>

      <div id="buying-empty-plots"></div>
      <h3><span>Buying empty plots </span></h3>

      <p>
	Along one side of a road there is a sequence of vacant
	plots of land.  Each plot has a different area
	(non-zero).  So, the areas form a sequence A[1], A[2],
	&hellip; A[N].
      </p>

      <p>
	You want to buy K acres of land to build a house.  You
	want to find a segment of continguous plots (i.e., a
	subsection in the sequence) of minimum length whose sum
	is exactly K.
      </p>

      <p><b>Solution</b></p>

      <p><em>First attempt</em>

      <p>
	Compute <a href="prefix-sums.html">prefix sums</a>.  For
	each (i,j) check if A[j] - A[i] = K.  Among all such sections,
	choose the one where j - i is minimized.
      </p>

      <p>
	This takes time N<sup>2</sup>.  Can we do better?
      </p>

      <p>
	The prefix sums form a sequence of values in ascending value:<br>
	P[1] &lt; P[2] &lt; &hellip; &lt; P[N]
      </p>

      <p>
	For each i, we want to find a j such that P[j] - P[i] = K.  Since
	the prefix sums are sorted in ascending order, we can find the j
	for each i using binary search, instead of exhaustively scanning
	P[i+1], &hellip; P[N].
      </p>

      <p>
	This improves the complexity to N log N.
      </p>

      <p>
	Can we do it in time proportional to N?
      </p>

      <p>
	For each i, compute if there is a segment starting at i that adds up to
	exactly K.
      </p>

      <p>
	Start at A[1].  Add A[2], A[3], &hellip;
      </p>
      
      <ul>

	<li> If we reach A[j] such that sum till A[j] is exactly
	  K, note this down. 

	<li> If the sum till A[j-1] is less than K and the sum
	  till A[j] exceeds K, there is no solution starting from
	  A[1].

	<li> At this point, we subtract A[1] from the sum.  We
	  automatically have the sum starting from A[2] upto
	  A[j].

	<li> The sum from A[2] upto A[j-1] must be less than K
	  (since the sum from A[1] to A[j-1] was less than K).
	  If there is already a solution for A[2], it must be
	  A[2] to A[j].

	<li> If A[2] + &hellip; + A[j] is exactly K, note this
	  down and subtract A[2] to get the sum from A[3].

	<li> Otherwise, we continue to add A[j+1] etc until we
	  reach a value where the sum crosses K and repeat the
	  argument above.

      </li></ul>

      <p>
	Essentially we maintain a sliding window within which we
	maintain the sum.  At each stage:
      </p>
	
      <ul>

	<li> if the sum of the window is less than K, expand the
	  window to the right.

	<li> if the sum of the window is greater to K, contract
	  the window from the left.

	<li> if the sum of the window is equal to K, note the
	  left and right end points and contract the window from
	  the left.

      </li></ul>


      <p> <em>Example</em>

      <pre>
      K = 8

      1    3    2    1    4    1    3    2    1    1    2
      </pre>

      <p>Expand window right till sum crosses K</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
      |--->4--->6--->7-->11
      </pre>
			
      <p>Exceeds K, contract window from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
           |------------>10
      </pre>

      <p>Exceeds K, contract window from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                |------->7
      </pre>

      <p>Less than K, expand window to right</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                |------------->8
      </pre>

      <p>Equals K, note left and right end points, contract from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                     |-------->6
      </pre>


      <p>Less than K, expand window to right</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                     |------------->9
      </pre>

      <p>Exceeds K, contract window from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                          |-------->8
      </pre>

      <p>Equals K, note left and right end points, contract from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                               |--->4
      </pre>

      <p>Less than K, expand window to right</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                               |--->4--->6--->7--->8
      </pre>

      <p>Equals K, note left and right end points, contract from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                                    |------------->7
      </pre>

      <p>Less than K, expand window to right</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                                    |------------->7--->9
      </pre>

      <p>Exceeds K, contract window from left</p>

      <pre>
      1    3    2    1    4    1    3    2    1    1    2
                                         |------------->7
      </pre>

      <p>Less than K, cannot expand window to right, stop</p>
 
    </div>
  </div> <!-- Right column end -->


    <hr class="noscreen">

  <div class="col-l">
    <div class="col-l-in">
      <h3>Basic topics</h3>
      <ul class="menu">
	<li><a href="introduction.html">Introduction</a></li>
	<li><a href="efficiency.html">Efficiency</a></li>
	<li><a href="binarysearch.html">Searching</a></li>
	<li><a href="sorting.html">Sorting</a></li>
	<li><a href="graphs.html">Basic Graph Algorithms</a></li>
	<li><a href="dp.html">Dynamic Programming</a></li>
	<li><a href="greedy.html">Greedy Algorithms</a></li>
	<li><a href="shortest-paths.html">Computing Shortest Paths</a></li>
	<li><a href="heaps.html">Heaps</a></li>
	<li><a href="permutations.html">Permutations</a></li>
	<li><a href="dags.html">Directed Acyclic Graphs</a></li>
	<li><a href="prefix-sums.html">Computing Prefix Sums</a></li>
	<li><a href="sliding-window.html">Sliding Window Algorithms</a></li>
      </ul>

      <h3>Advanced topics</h3>
      <ul class="menu">
	<li><a href="advanced-graph-algorithms.html">Advanced Graph Algorithms</a></li>
	<li><a href="dp-trees.html">Dynamic Programming on Trees</a></li>
	<li><a href="range-queries.html">Range Queries</a></li>
	<li><a href="network-flows.html">Network Flows</a></li>
	<li><a href="games.html">Games and Strategies</a></li>
	<li><a href="geometry.html">Geometry</a></li>
      </ul>


      <br>

    </div>
  </div> <!-- Left column end -->

  <div class="cleaner">&nbsp;</div>

        </div> <!-- Page end -->

        <div id="footer">
                <ul>
                  <li><a href="..\index-1.html">Home</a>|</li>
                  <li><a href="">Topics</a>|</li>
                  <li><a href="..\problems\index.html">Problems</a>|</li>
                  <li><a href="..\iindex\index.html">Index</a>|</li>
                  <li><a href="..\contact\index.html">Contact</a></li>
                </ul>

        <p><a href="#" onclick="print();" title="Javascript needed for a Print">Print</a> | <a href="#top">Top</a>&uarr;</p>
        </div> <!-- Footer end -->

</div> <!-- Wrapper end -->

<p id="backlinks">&copy;IARCS 2012&ndash;2016</p>
<p id="backlinks"><a href="http://www.pestujemeweb.cz/">Pěstujeme web</a> | visit: <a href="http://www.junglegym.cz/" title="Skluzavky Jungle Gym">Skluzavky</a></p>

</body>
</html>
