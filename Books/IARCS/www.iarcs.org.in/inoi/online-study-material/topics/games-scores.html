<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>

<meta name="Description" content="">
<meta name="author" content="">
<meta name="keywords" content="">

<meta name="robots" content="all,follow">

<!-- CSS --> 
<link rel="stylesheet" href="styles\default.css" type="text/css" media="screen, projection, tv">
<link rel="stylesheet" href="styles\print.css" type="text/css" media="print">

<!-- Favicon -->
<link rel="shortcut icon" href="img\iarcslogo.png" type="image/x-icon">
</head>

<body id="top">
<div id="wrapper">

	<div class="header">
	<h1><span><a href="http://www.iarcs.org.in/inoi"><span id="color">Indian Computing Olympiad</span></a></span></h1>
	<p id="about">Training Material</p>

	<a href="#skip-menu" class="hidden">Skip menu</a> <!-- Skip menu -->
	<div id="menu-box">
	  <ul id="web">
	    <li><a href="..\contact\index.html">Contact</a></li>
	    <li><a href="..\iindex\index.html">Index</a></li>
	    <li><a href="..\problems\index.html">Problems</a></li>
	    <li><a class="active" id="first" href="index-1.html">Topics</a></li>
	    <li><a href="..\index-1.html">Home</a></li>
	  </ul>
	</div>

	</div> <!-- Header end -->

<hr class="noscreen">

<div id="skip-menu"></div>

<div class="page">
  <div class="col-r">
    <div class="col-r-in">

      <h2><a href="games.html">Games and strategies</a></h2>

      <h3><span>Scores (IOI 2001)</span></h3>

      <p>
        We are given a directed graph, with start vertex is 1.
        Each vertex is owned by Player 1 or Player 2.  Each
        vertex has a value (integer).
      </p>

      <p>
        The game starts at vertex 1.  The player who owns vertex
        1 starts the game.  At each vertex, the owner picks up
        the value on the vertex and moves token to neighbouring
        vertex.
      </p>

      <p>
        The game ends when the token returns to vertex 1.  The
        winner is the one who has picked up the maximum value
        during the game.
      </p>

      <p>
        <b>Condition:</b> The graph is such that the game always
        terminates in a finite number of moves.
      </p>

      <p>
        <b>Problem:</b> Design an optimal strategy for Player 1
        (who may or may not own Vertex 1)
      </p>

      <p>
        Example:
      </p>

      <pre>
                             --
Player 1 nodes are labelled |  |,                 ---           ===
                             --                --| 1 |<-------|| 2 ||<-
                              ==              |   ---       ->  ===    |
Player 2 nodes are labelled ||  ||            |           _/           |
                              ==              |          /             |
                                              |        _/
Values are stored inside the nodes.           |   --- /         ===    |
                                               ->| 3 |------->|| 4 ||--
Vertex 1 is the one on the top left corner.       ---           ===
      </pre>

      <h3><span>Solution</span></h3>

      <p>
        Since the game always ends by returning to vertex 1,there
        is no cycle that does not involve vertex 1.  Otherwise,
        the players can stay within a cycle forever without the
        game terminating.  Therefore, if we eliminate all edges
        coming into vertex 1, we have a dag.
      </p>

       <p>
         Now, how do we evaluate positions bottom up.
       </p>

      <p>
        Label each node with a pair of values (m1,m2)&mdash;the
        interpretation is that if the game starts at this node,
        the maximum value that Player 1 can pick up is m1 and the
        maximum value that Player 2 can pick up is m2.  This node
        is winning for Player 1 if m1 &gt; m2.
      </p>

      <p>
        We can initially evaluate these values for the leaf nodes
        in the dag&mdash;those from which the only outgoing edge
        is back to vertex 1.
      </p>

      <p>
        How do we propagate these values?
      </p>

      <p>
        An internal node in the dag has successors in the dag for
        which the game values are known.  The node can also have
        a single back edge to vertex 1.
      </p>

      <p>
        Computing the (m1,m2) value for a node that belongs to Player 1:
      </p>

      <p>
        <b>Case 1</b> (There is no back edge from this node to vertex 1)
      </p>

      <p>
        Pick the successor in which Player 1 wins with his value
        maximum (i.e. in the successor node's label, Player 1's
        value is larger than Player 2's).
      </p>

      <ul>
        <li>
          Let this successor node be labelled (k1,k2).  Let the
          value attached to the current node be l1.
        </li>

        <li>
          If l1 &gt; k1 then Player 1 can afford to a play to a
          winning successor node labelled (n1,n2) in which n2 is
          minimum but n1 is not necessarily maximum among all
          winning successors.  In this case, we label the current
          node (l1,n2).
        </li>

        <li>
          Otherwise (l1 &le; k1), Player 1 should move to the
          successor labelled (k1,k2), so we label the current
          node (k1,k2).
        </li>

        <li>
          If all successors of this node are losing for Player 1,
          pick losing successor (k1,k2) such that k2 is minimum.
          Let l1 be value of the current mode.  Label this node
          with (max(l1,k1),k2).
        </li>
      </ul>


      <p>
        <b>Case 2</b> (There is a back edge from this node to
        vertex 1)
      </p>

      <p>
        As before, let (k1,k2) be the label of the best successor
        and let l1 be the value on the current node.
      </p>

      <ul>

        <li>
          If l1 &ge; k1, label the current node (l1,0) [Player 1
          will move the game immediately back to Vertex 1 and
          win.]
        </li>

        <li>
          If l1 &lt; k1, label the current node (k1,k2) [Player 1
          will continue the game without returning to Vertex 1 at
          this point.]
        </li>

      </ul>

      <p>
        We also have to propagate labels to vertices that belong
        to Player 2, using symmetric arguments.
      </p>

    </div>
  </div> <!-- Right column end -->

   <hr class="noscreen">

  <div class="col-l">
    <div class="col-l-in">
      <h3>Basic topics</h3>
      <ul class="menu">
	<li><a href="introduction.html">Introduction</a></li>
	<li><a href="efficiency.html">Efficiency</a></li>
	<li><a href="binarysearch.html">Searching</a></li>
	<li><a href="sorting.html">Sorting</a></li>
	<li><a href="graphs.html">Basic Graph Algorithms</a></li>
	<li><a href="dp.html">Dynamic Programming</a></li>
	<li><a href="greedy.html">Greedy Algorithms</a></li>
	<li><a href="shortest-paths.html">Computing Shortest Paths</a></li>
	<li><a href="heaps.html">Heaps</a></li>
	<li><a href="permutations.html">Permutations</a></li>
	<li><a href="dags.html">Directed Acyclic Graphs</a></li>
	<li><a href="prefix-sums.html">Computing Prefix Sums</a></li>
	<li><a href="sliding-window.html">Sliding Window Algorithms</a></li>
      </ul>

      <h3>Advanced topics</h3>
      <ul class="menu">
	<li><a href="advanced-graph-algorithms.html">Advanced Graph Algorithms</a></li>
	<li><a href="dp-trees.html">Dynamic Programming on Trees</a></li>
	<li><a href="range-queries.html">Range Queries</a></li>
	<li><a href="network-flows.html">Network Flows</a></li>
	<li><a href="games.html">Games and Strategies</a></li>
	<li><a href="geometry.html">Geometry</a></li>
      </ul>


      <br>

    </div>
  </div> <!-- Left column end -->

 <div class="cleaner">&nbsp;</div>

        </div> <!-- Page end -->

        <div id="footer">
                <ul>
                  <li><a href="..\index-1.html">Home</a>|</li>
                  <li><a href="">Topics</a>|</li>
                  <li><a href="..\problems\index.html">Problems</a>|</li>
                  <li><a href="..\iindex\index.html">Index</a>|</li>
                  <li><a href="..\contact\index.html">Contact</a></li>
                </ul>

        <p><a href="#" onclick="print();" title="Javascript needed for a Print">Print</a> | <a href="#top">Top</a>&uarr;</p>
        </div> <!-- Footer end -->

</div> <!-- Wrapper end -->

<p id="backlinks">&copy;IARCS 2012&ndash;2016</p>
<p id="backlinks"><a href="http://www.pestujemeweb.cz/">Pěstujeme web</a> | visit: <a href="http://www.junglegym.cz/" title="Skluzavky Jungle Gym">Skluzavky</a></p>

</body>
</html>
