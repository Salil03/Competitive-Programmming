<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>

<meta name="Description" content="">
<meta name="author" content="">
<meta name="keywords" content="">

<meta name="robots" content="all,follow">

<!-- CSS --> 
<link rel="stylesheet" href="styles\default.css" type="text/css" media="screen, projection, tv">
<link rel="stylesheet" href="styles\print.css" type="text/css" media="print">

<!-- Favicon -->
<link rel="shortcut icon" href="img\iarcslogo.png" type="image/x-icon">
</head>

<body id="top">
<div id="wrapper">

	<div class="header">
	<h1><span><a href="http://www.iarcs.org.in/inoi"><span id="color">Indian Computing Olympiad</span></a></span></h1>
	<p id="about">Training Material</p>

	<a href="#skip-menu" class="hidden">Skip menu</a> <!-- Skip menu -->
	<div id="menu-box">
	  <ul id="web">
	    <li><a href="..\contact\index.html">Contact</a></li>
	    <li><a href="..\iindex\index.html">Index</a></li>
	    <li><a class="active" id="first" href="index-1.html">Problems</a></li>
	    <li><a href="../topics">Topics</a></li>
	    <li><a href="..\index-1.html">Home</a></li>
	  </ul>
	</div>

	</div> <!-- Header end -->

<hr class="noscreen">

<div id="skip-menu"></div>

<div class="page">
  <div class="col-r">
    <div class="col-r-in">

      <h2>
        <a href="..\topics\graphs.html">Basic Graph Algorithms</a>&rarr;Amazing Robots (IOI 2003)
      </h2>
   
      <p>
        You are given two different mazes of size less than
        20&times;20.  Each maze contains a robots (R).  Each maze
        also contains some guards G (at most 10).  The mazes may
        not be the same and robots may not be in the same
        starting position.
      </p>

      <pre>
         # # . # . # #         # # . # . # #
         R # . # G . .         . # . . . G .
         . . . . . # #         . . . . . # #
         . G . . . . .         . G . . . . .
         . . . # . . .         . . . . # R .
         # . # # # . .         # . # # # . .
      </pre>

      <p>
        Some cells on the maze are on the periphery, from where
        the robot can exit the maze.  The aim is to get both
        robots to exit the maze without being captured by the
        guards.
      </p>

      <p>
        To move the robot, you give an instruction of the form
        "move(direction)", where direction is one of North,
        South, East or West.  If you say "move(N)", for instance,
        both robots move one step North, if they can.  If either
        robot is blocked in this direction by a wall, the robot
        stays where it is.  If either robot has left the maze
        already, the move applies only to the other robot.
      </p>

      <p>
        The guards move either E-W or N-S on paths of fixed
        length.  You are given the initial direction and the
        length of his path (this is between 2 and 4).  Each time
        you move the robot, each guard moves one step along his
        path.  If a guard has reached the end of his path, he
        turns around and moves back.  You can assume that the
        paths followed by the guard are free of blocks, at no
        time do two guards stand on the same cell.
      </p>

      <p>
        A guard catches a robot if
      </p>

      <ul>
        <li> After some move, the guard and the robot are on the
          same cell</li>

        <li> At some move, the guard and the robot cross each
        other by swapping cells.</li>

      </ul>

      <div id="solution">
        <h2>Solution</h2>
      </div>

      <p>
        Do a BFS on the state space.
      </p>

      <p>
        Naive state space is
      </p>

      <ol>
        <li> Position of robots in each grid.</li>
        <li> Position of each guard.</li>
      </ol>

      <p>
        This is too large (state space is 400 &times; 400 &times; ....).
      </p>

      <p>
        Instead, compute the guards' positions as a function of
        time.  In this case, we need to maintain:
      </p>

      <ol>
        <li> Position of robots in each grid. </li>
        <li> Current time T. </li>
      </ol>

      <p>
        State space is still 400 &times; 400 &times; N, where N
        is the number of steps till they get out, which may
        become too large.
      </p>

      <p>
        Observe that the guards' beats are of length 2, 3 or 4.
        Thus, each guard returns to his starting position after
        2, 4 or 6 moves.  Thus, we only need to keep track of
        time T modulo 2, 4 and 6.  Since lcm(2,4,6) is 12, if we
        keep track of T modulo 12, we can recover all these three
        values.
      </p>

      <p>
        In this problem, it is important to recognize that the
        path lengths for the guards allow you to cut down the
        state space of the BFS dramatically, to bring it within
        limits.  Also, the number of edges is small because each
        node has at most 4 neighbours, corresponding to the
        N-S-E-W moves.
      </p>



      <hr class="noscreen">
      <br>


    </div>
  </div> <!-- Right column end -->


    <hr class="noscreen">

  <div class="col-l">
    <div class="col-l-in">
      <h3>Problems related to</h3>
      <ul class="menu">
        <li><a href="index-1.html#binarysearch">Searching</a></li>
        <li><a href="index-1.html#sorting">Sorting</a></li>
        <li><a href="index-1.html#graphs">Basic Graph Algorithms</a></li>
        <li><a href="index-1.html#dp">Dynamic Programming</a></li>
        <li><a href="index-1.html#greedy">Greedy Algorithms</a></li>
        <li><a href="">Computing Shortest Paths</a></li>
        <li><a href="index-1.html#heaps">Heaps</a></li>
        <li><a href="index-1.html#permutations">Permutations</a></li>
        <li><a href="index-1.html#dags">Directed Acyclic Graphs</a></li>
        <li><a href="index-1.html#prefix-sums">Computing Prefix Sums</a></li>
        <li><a href="index-1.html#sliding-window">Sliding Window Algorithms</a></li>
        <li><a href="index-1.html#advanced-graph-algorithms">Advanced Graph Algorithms</a></li>
        <li><a href="index-1.html#dp-trees">Dynamic Programming on Trees</a></li>
        <li><a href="index-1.html#range-queries">Range Queries</a></li>
        <li><a href="index-1.html#network-flows">Network Flows</a></li>
        <li><a href="index-1.html">Games and Strategies</a></li>
        <li><a href="index-1.html#geometry">Geometry</a></li>
      </ul>


      <br>

    </div>
  </div> <!-- Left column end -->

  <div class="cleaner">&nbsp;</div>

        </div> <!-- Page end -->

        <div id="footer">
                <ul>
                  <li><a href="..\index-1.html">Home</a>|</li>
                  <li><a href="../topics">Topics</a>|</li>
                  <li><a href="">Problems</a>|</li>
                  <li><a href="..\iindex\index.html">Index</a>|</li>
                  <li><a href="..\contact\index.html">Contact</a></li>
                </ul>

        <p><a href="#" onclick="print();" title="Javascript needed for a Print">Print</a> | <a href="#top">Top</a>&uarr;</p>
        </div> <!-- Footer end -->

</div> <!-- Wrapper end -->

<p id="backlinks">&copy;IARCS 2012&ndash;2016</p>
<p id="backlinks"><a href="http://www.pestujemeweb.cz/">Pěstujeme web</a> | visit: <a href="http://www.junglegym.cz/" title="Skluzavky Jungle Gym">Skluzavky</a></p>

</body>
</html>
