<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>

<meta name="Description" content="">
<meta name="author" content="">
<meta name="keywords" content="">

<meta name="robots" content="all,follow">

<!-- CSS --> 
<link rel="stylesheet" href="styles\default.css" type="text/css" media="screen, projection, tv">
<link rel="stylesheet" href="styles\print.css" type="text/css" media="print">

<!-- Favicon -->
<link rel="shortcut icon" href="img\iarcslogo.png" type="image/x-icon">
</head>

<body id="top">
<div id="wrapper">

	<div class="header">
	<h1><span><a href="http://www.iarcs.org.in/inoi"><span id="color">Indian Computing Olympiad</span></a></span></h1>
	<p id="about">Training Material</p>

	<a href="#skip-menu" class="hidden">Skip menu</a> <!-- Skip menu -->
	<div id="menu-box">
	  <ul id="web">
	    <li><a href="..\contact\index.html">Contact</a></li>
	    <li><a href="..\iindex\index.html">Index</a></li>
	    <li><a class="active" id="first" href="index-1.html">Problems</a></li>
	    <li><a href="../topics">Topics</a></li>
	    <li><a href="..\index-1.html">Home</a></li>
	  </ul>
	</div>

	</div> <!-- Header end -->

<hr class="noscreen">

<div id="skip-menu"></div>

<div class="page">
  <div class="col-r">
    <div class="col-r-in">

      <h2>
        <a href="..\topics\dp.html">Dynamic Programming</a>&rarr;Post Office (IOI 2000)
      </h2>

      <p>
	There is a straight highway with villages alongside the highway. The
	highway is represented as an integer axis, and the position of each village
	is identified with a single integer coordinate. There are no two villages
	in the same position. The distance between two positions is the absolute
	value of the difference of their integer coordinates.
      </p>

      <p>
	Post offices will be built in some, but not necessarily all of the
	villages. A village and the post office in it have the same position. For
	building the post offices, their positions should be chosen so that the
	average distance from each village to its nearest post office is minimized.
      </p>

      <p>
	You are to write a program which, given the positions of the villages and
	the number of post offices, computes the least possible sum of all
	distances between each village and its nearest post office, and the
	respective desired positions of the post offices.
      </p>

      <div id="solution">
	<h2>Solution</h2>
      </div>

      <p>
	Let the the N villages be at positions
	1&le;v1&le;v2&le;&hellip;&le:vN We want to place K post offices
	at K of the N positions v1,&hellip;,vN.
      </p>

      <p>
	Suppose we try to go from left to right, placing post offices and maintain
	Best[i,r], the best value of placing r post offices among v1,...,vi.
      </p>

      <p>
	But, if we add a new post office at v{i+1}, the distances for the first i
	villages may change because the nearest post office for the last few
	villages in v1,...,vi may now be now be v{i+1} rather than the rightmost
	post office in v1,...vi.
      <p>

      <p>
	Can we strengthen the condition for Best[i,r].
      </p>

      <ul>

	<li>
	  Best(i,r) : best way of placing r post offices among v1,...vi
          such that there is a post office at vi.
	</li>
      </ul>

      <p>
	How do we calculate Best(i,r)?
      </p>


      <ul>

	<li>
	  Best(i,r) =<br>
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min{<br>
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Best(i-1,r-1)      // prev PO at i-1<br>
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Best(i-2,r-1) + Cost(i-1) // Prev PO at i-2<br>
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Best(i-3,r-1) + Cost(i-2,i-1) // Prev PO at i-3<br>
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&hellip:<br>
	  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li>
      </ul>

      <p>
	Thus,
      </p>

      <ul>
	<li>
	  Best(i,r) =    min_{1&le;j&lt;i-1} Best(j,r-1) + Cost(j+1,&hellip;,i-1)
	</li>

	<p>
	  Here Cost(j+1,&hellip;,i-1) gives costs for villages v{j+1}&hellip;v{i-1} given that
	  nearest neighbouring post offices are at vj and vi.
	</p>

	<p>
	  We have to decide where we place the last post office and compute cost for
	  villages to the right of that.  Thus, the final answer is given by the
	  expression:
	</p>

	<p align="center">
	  min_{1&le;j&le;N}     {  Best(j,K) +     Sum_{j+1&lt;l&le;N} distance(vj,vl) }
	</p>

	<p>
	  The complexity is N<sup>2</sup>K.
	</p>

      <hr class="noscreen">
      <br>


    </ul></div>
  </div> <!-- Right column end -->


    <hr class="noscreen">

  <div class="col-l">
    <div class="col-l-in">
      <h3>Problems related to</h3>
      <ul class="menu">
        <li><a href="index-1.html#binarysearch">Searching</a></li>
        <li><a href="index-1.html#sorting">Sorting</a></li>
        <li><a href="index-1.html#graphs">Basic Graph Algorithms</a></li>
        <li><a href="index-1.html#dp">Dynamic Programming</a></li>
        <li><a href="index-1.html#greedy">Greedy Algorithms</a></li>
        <li><a href="">Computing Shortest Paths</a></li>
        <li><a href="index-1.html#heaps">Heaps</a></li>
        <li><a href="index-1.html#permutations">Permutations</a></li>
        <li><a href="index-1.html#dags">Directed Acyclic Graphs</a></li>
        <li><a href="index-1.html#prefix-sums">Computing Prefix Sums</a></li>
        <li><a href="index-1.html#sliding-window">Sliding Window Algorithms</a></li>
        <li><a href="index-1.html#advanced-graph-algorithms">Advanced Graph Algorithms</a></li>
        <li><a href="index-1.html#dp-trees">Dynamic Programming on Trees</a></li>
        <li><a href="index-1.html#range-queries">Range Queries</a></li>
        <li><a href="index-1.html#network-flows">Network Flows</a></li>
        <li><a href="index-1.html">Games and Strategies</a></li>
        <li><a href="index-1.html#geometry">Geometry</a></li>
      </ul>


      <br>

    </div>
  </div> <!-- Left column end -->

  <div class="cleaner">&nbsp;</div>

        </div> <!-- Page end -->

        <div id="footer">
                <ul>
                  <li><a href="..\index-1.html">Home</a>|</li>
                  <li><a href="../topics">Topics</a>|</li>
                  <li><a href="">Problems</a>|</li>
                  <li><a href="..\iindex\index.html">Index</a>|</li>
                  <li><a href="..\contact\index.html">Contact</a></li>
                </ul>

        <p><a href="#" onclick="print();" title="Javascript needed for a Print">Print</a> | <a href="#top">Top</a>&uarr;</p>
        </div> <!-- Footer end -->

</div> <!-- Wrapper end -->

<p id="backlinks">&copy;IARCS 2012&ndash;2016</p>
<p id="backlinks"><a href="http://www.pestujemeweb.cz/">Pěstujeme web</a> | visit: <a href="http://www.junglegym.cz/" title="Skluzavky Jungle Gym">Skluzavky</a></p>

</body>
</html>
